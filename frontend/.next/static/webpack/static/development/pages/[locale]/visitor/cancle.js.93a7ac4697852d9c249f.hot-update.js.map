{"version":3,"file":"static/webpack/static/development/pages/[locale]/visitor/cancle.js.93a7ac4697852d9c249f.hot-update.js","sources":["webpack:///./components/CancleVisit/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  Grid,\n  Typography,\n  TextField,\n  Input,\n  Button,\n  Card,\n  CardContent,\n} from '@material-ui/core';\nimport InputIcon from '@material-ui/icons/Input';\nimport useRestClient from '../../hooks/useRestClient';\nimport useVisitorSearchReducer from '../../hooks/useVisitorSearchReducer';\nimport useTranslations from '../../hooks/useTranslations';\nimport Table from '../Table';\nimport StatsCard from '../StatsCard';\nimport useStyles from './style';\n\nconst CancleVisit: React.FunctionComponent = () => {\n  const reducer = useVisitorSearchReducer();\n  const { client } = useRestClient();\n  if (!reducer) return null;\n\n  const { state, dispatch } = reducer;\n\n  async function getVisitorsByFilter() {\n    const res = await client.getBesucherByFilter({\n      name: state.search.name,\n      vorname: state.search.firstName,\n      skip: state.skip,\n      take: state.limit,\n      startzeit: state.search.startDate,\n      endzeit: state.search.endDate,\n    });\n    if (res)\n      dispatch({\n        type: 'setVisitors',\n        payload: { rows: res, count: res.length },\n      });\n  }\n\n  React.useEffect(() => {\n    getVisitorsByFilter();\n  }, []);\n\n  React.useEffect(() => {\n    getVisitorsByFilter();\n  }, [state.page, state.limit]);\n\n  const classes = useStyles();\n  const { t } = useTranslations();\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={4}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"body1\">{t('administration')}</Typography>\n          <Typography variant=\"h6\">{t('visitor-cancle')}</Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}></Grid>\n      </Grid>\n      <Grid container spacing={4}>\n        <Grid item xs={12} sm={6} lg={3} xl={3}>\n          <StatsCard title={t('visitor-count-for-period')} value=\"200\" />\n        </Grid>\n        <Grid item xs={12} sm={6} lg={3} xl={3}>\n          <StatsCard\n            title={t('visitor-count-current-registered')}\n            value={`${state.rows.length}`}\n          />\n        </Grid>\n        <Grid item xs={12} sm={6} lg={3} xl={3} alignItems=\"center\">\n          <Card>\n            <CardContent>\n              <Input\n                placeholder={t('search-name')}\n                style={{\n                  width: '100%',\n                }}\n                value={state.search.firstName}\n                onChange={event =>\n                  dispatch({\n                    type: 'setSearch',\n                    payload: { ...state.search, firstName: event.target.value },\n                  })\n                }\n              />\n              <div style={{ marginTop: '8px' }} />\n              <Input\n                placeholder={t('search-first-name')}\n                style={{\n                  width: '100%',\n                }}\n                value={state.search.name}\n                onChange={event =>\n                  dispatch({\n                    type: 'setSearch',\n                    payload: { ...state.search, name: event.target.value },\n                  })\n                }\n              />\n              <div style={{ marginTop: '8px' }} />\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={async () => getVisitorsByFilter()}\n              >\n                {t('search-apply')}\n              </Button>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={6} lg={3} xl={3} alignItems=\"center\">\n          <Card>\n            <CardContent>\n              <Grid container justify=\"flex-start\">\n                <TextField\n                  style={{ paddingRight: '12px' }}\n                  label={t('search-start-date')}\n                  type=\"datetime-local\"\n                  defaultValue={state.search.startDate}\n                  onChange={event =>\n                    dispatch({\n                      type: 'setSearch',\n                      payload: {\n                        ...state.search,\n                        startDate: event.target.value,\n                      },\n                    })\n                  }\n                />\n                <TextField\n                  label={t('search-end-date')}\n                  type=\"datetime-local\"\n                  defaultValue={state.search.endDate}\n                  onChange={event => {\n                    dispatch({\n                      type: 'setSearch',\n                      payload: { ...state.search, endDate: event.target.value },\n                    });\n                  }}\n                />\n              </Grid>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n      <Grid container spacing={4}>\n        <Grid item xs={12}>\n          <Table\n            rows={state.rows}\n            rowsPerPageOptions={[25, 50, 100]}\n            count={state.count}\n            rowsPerPage={state.limit}\n            page={state.page}\n            onChangePage={(_: any, newPage: number) => {\n              const newSkip =\n                newPage > state.page\n                  ? state.skip + state.limit\n                  : state.skip - state.limit;\n              dispatch({\n                type: 'changePage',\n                payload: { skip: newSkip, page: newPage },\n              });\n            }}\n            onChangeRowsPerPage={event => {\n              const limit = Number(event.target.value);\n              dispatch({ type: 'changeRowsPerPage', payload: { limit } });\n            }}\n            uniqueId=\"id\"\n            toolbarSettings={{\n              title: t('visitor-current-registered'),\n              tooltipSelected: {\n                title: t('visitor-cancle'),\n                icon: <InputIcon />,\n              },\n            }}\n          />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default CancleVisit;\n"],"mappings":"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","sourceRoot":""}