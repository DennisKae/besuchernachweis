{"ast":null,"code":"var _jsxFileName = \"/Users/stephangilli/projects/besuchernachweis/frontend/context/LocaleContext.tsx\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport { useRouter } from 'next/router';\nimport { isLocale, defaultLocale } from '../utils/locales';\nconst LocaleContext = React.createContext({\n  locale: defaultLocale,\n  setLocale: () => null\n});\nexport const LocaleProvider = ({\n  initialLocale,\n  children\n}) => {\n  const [locale, setLocale] = React.useState(initialLocale);\n  const {\n    query\n  } = useRouter();\n  React.useEffect(() => {\n    if (typeof query.locale === 'string' && isLocale(query.locale) && locale !== query.locale) {\n      setLocale(query.locale);\n    }\n  }, [query.locale, locale]);\n  return __jsx(LocaleContext.Provider, {\n    value: {\n      locale,\n      setLocale\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, children);\n};\nexport default LocaleContext;","map":{"version":3,"sources":["/Users/stephangilli/projects/besuchernachweis/frontend/context/LocaleContext.tsx"],"names":["React","useRouter","isLocale","defaultLocale","LocaleContext","createContext","locale","setLocale","LocaleProvider","initialLocale","children","useState","query","useEffect"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,kBAAxC;AAQA,MAAMC,aAAa,GAAGJ,KAAK,CAACK,aAAN,CAAkC;AACtDC,EAAAA,MAAM,EAAEH,aAD8C;AAEtDI,EAAAA,SAAS,EAAE,MAAM;AAFqC,CAAlC,CAAtB;AAKA,OAAO,MAAMC,cAAmD,GAAG,CAAC;AAClEC,EAAAA,aADkE;AAElEC,EAAAA;AAFkE,CAAD,KAG7D;AACJ,QAAM,CAACJ,MAAD,EAASC,SAAT,IAAsBP,KAAK,CAACW,QAAN,CAAeF,aAAf,CAA5B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAYX,SAAS,EAA3B;AAEAD,EAAAA,KAAK,CAACa,SAAN,CAAgB,MAAM;AACpB,QACE,OAAOD,KAAK,CAACN,MAAb,KAAwB,QAAxB,IACAJ,QAAQ,CAACU,KAAK,CAACN,MAAP,CADR,IAEAA,MAAM,KAAKM,KAAK,CAACN,MAHnB,EAIE;AACAC,MAAAA,SAAS,CAACK,KAAK,CAACN,MAAP,CAAT;AACD;AACF,GARD,EAQG,CAACM,KAAK,CAACN,MAAP,EAAeA,MAAf,CARH;AAUA,SACE,MAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAE;AAAEA,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,QADH,CADF;AAKD,CAtBM;AAwBP,eAAeN,aAAf","sourcesContent":["import * as React from 'react';\nimport { useRouter } from 'next/router';\nimport { isLocale, defaultLocale } from '../utils/locales';\nimport { Locale } from '../types';\n\ntype ContextProps = {\n  readonly locale: Locale;\n  readonly setLocale: (locale: Locale) => void;\n};\n\nconst LocaleContext = React.createContext<ContextProps>({\n  locale: defaultLocale,\n  setLocale: () => null,\n});\n\nexport const LocaleProvider: React.FC<{ initialLocale: Locale }> = ({\n  initialLocale,\n  children,\n}) => {\n  const [locale, setLocale] = React.useState(initialLocale);\n  const { query } = useRouter();\n\n  React.useEffect(() => {\n    if (\n      typeof query.locale === 'string' &&\n      isLocale(query.locale) &&\n      locale !== query.locale\n    ) {\n      setLocale(query.locale);\n    }\n  }, [query.locale, locale]);\n\n  return (\n    <LocaleContext.Provider value={{ locale, setLocale }}>\n      {children}\n    </LocaleContext.Provider>\n  );\n};\n\nexport default LocaleContext;\n"]},"metadata":{},"sourceType":"module"}