{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/stephangilli/projects/besuchernachweis/frontend/components/RegisterVisit/index.tsx\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react';\nimport { Grid, Typography, Paper, Input, InputLabel, FormControl, RadioGroup, Radio, FormControlLabel, Select, MenuItem, Switch, Button } from '@material-ui/core';\nimport Table from '../Table';\nimport useRestClient from '../../hooks/useRestClient';\nimport useTranslations from '../../hooks/useTranslations';\nimport useStyles from './style';\n\nvar CreateNewUser = function CreateNewUser(_ref) {\n  var onRegister = _ref.onRegister;\n\n  var _useTranslations = useTranslations(),\n      t = _useTranslations.t;\n\n  var classes = useStyles();\n\n  var _React$useState = React.useState({\n    firstName: '',\n    name: '',\n    email: '',\n    phone: '',\n    rooms: [],\n    permissionGranted: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      formState = _React$useState2[0],\n      setFormState = _React$useState2[1];\n\n  return __jsx(Paper, {\n    className: classes.contentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, __jsx(Input, {\n    className: classes.input,\n    placeholder: t('register-first-name'),\n    value: formState.firstName,\n    onChange: function onChange(event) {\n      return setFormState(_objectSpread({}, formState, {\n        firstName: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, __jsx(Input, {\n    className: classes.input,\n    placeholder: t('register-name'),\n    value: formState.name,\n    onChange: function onChange(event) {\n      return setFormState(_objectSpread({}, formState, {\n        name: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }))), __jsx(Grid, {\n    container: true,\n    spacing: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, __jsx(Input, {\n    className: classes.input,\n    type: \"email\",\n    placeholder: t('register-email'),\n    value: formState.email,\n    onChange: function onChange(event) {\n      return setFormState(_objectSpread({}, formState, {\n        email: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, __jsx(Input, {\n    className: classes.input,\n    placeholder: t('register-phone'),\n    value: formState.phone,\n    onChange: function onChange(event) {\n      return setFormState(_objectSpread({}, formState, {\n        phone: event.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }))), __jsx(Grid, {\n    container: true,\n    spacing: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, __jsx(FormControl, {\n    style: {\n      width: '100%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, __jsx(InputLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, t('property-rooms')), __jsx(Select, {\n    value: formState.rooms,\n    onChange: function onChange(event) {\n      setFormState(_objectSpread({}, formState, {\n        rooms: event.target.value\n      }));\n    },\n    multiple: true,\n    input: __jsx(Input, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 22\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, __jsx(MenuItem, {\n    value: \"Raum 2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Raum 2\"), __jsx(MenuItem, {\n    value: \"Raum 3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Raum 3\"), __jsx(MenuItem, {\n    value: \"Raum 4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"Raum 4\"), __jsx(MenuItem, {\n    value: \"Raum 1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"Raum 1\")))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, __jsx(FormControlLabel, {\n    control: __jsx(Switch, {\n      checked: formState.permissionGranted,\n      onChange: function onChange() {\n        return setFormState(_objectSpread({}, formState, {\n          permissionGranted: !formState.permissionGranted\n        }));\n      },\n      name: \"access\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }),\n    label: t('register-permission-granted'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }))), __jsx(Grid, {\n    container: true,\n    spacing: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return onRegister(formState);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, t('register')))));\n};\n\nvar RegisterVisit = function RegisterVisit() {\n  // hooks\n  var classes = useStyles();\n\n  var _useTranslations2 = useTranslations(),\n      t = _useTranslations2.t;\n\n  var _useRestClient = useRestClient(),\n      client = _useRestClient.client,\n      setIsLoading = _useRestClient.setIsLoading; // state\n\n\n  var _React$useState3 = React.useState('new'),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      visitorType = _React$useState4[0],\n      setVisitorType = _React$useState4[1];\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, __jsx(Typography, {\n    variant: \"body1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, t('administration')), __jsx(Typography, {\n    variant: \"h6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, t('visitor-register')))), __jsx(Grid, {\n    container: true,\n    spacing: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, __jsx(FormControl, {\n    component: \"fieldset\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, __jsx(RadioGroup, {\n    row: true,\n    name: \"visitorType\",\n    value: visitorType,\n    onChange: function onChange(event) {\n      return setVisitorType(event.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, __jsx(FormControlLabel, {\n    value: \"new\",\n    control: __jsx(Radio, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 26\n      }\n    }),\n    label: \"Neuer Besucher\",\n    labelPlacement: \"start\",\n    style: {\n      marginRight: '4px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }), __jsx(FormControlLabel, {\n    value: \"registered\",\n    control: __jsx(Radio, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 26\n      }\n    }),\n    label: \"Bereits regisitriert\",\n    labelPlacement: \"end\",\n    style: {\n      marginLeft: '4px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  })))), __jsx(Grid, {\n    container: true,\n    spacing: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, visitorType === 'new' && __jsx(CreateNewUser, {\n    onRegister: function _callee(props) {\n      var res;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(client && setIsLoading)) {\n                _context.next = 9;\n                break;\n              }\n\n              setIsLoading(true);\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(client.postBesucher({\n                person: {\n                  name: props.name,\n                  vorname: props.firstName,\n                  email: props.email,\n                  telefon: props.phone\n                },\n                gesundheitsstatus: 'gesund'\n              }));\n\n            case 4:\n              res = _context.sent;\n\n              if (!(res && res.id)) {\n                _context.next = 8;\n                break;\n              }\n\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(client.postBesuch({\n                besucher: [res.id],\n                raeume: [props.rooms]\n              }));\n\n            case 8:\n              setIsLoading(false);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }), visitorType === 'registered' && __jsx(Table, {\n    rows: [{\n      id: '123',\n      name: 'name'\n    }],\n    rowsPerPageOptions: [25, 50, 100],\n    count: 1,\n    rowsPerPage: 25,\n    page: 0,\n    onChangePage: function onChangePage() {},\n    onChangeRowsPerPage: function onChangeRowsPerPage() {},\n    displayOnly: false,\n    onClickRow: function onClickRow() {},\n    buttonLabel: \"Anmelden\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  })))));\n};\n\nexport default RegisterVisit;","map":{"version":3,"sources":["/Users/stephangilli/projects/besuchernachweis/frontend/components/RegisterVisit/index.tsx"],"names":["React","Grid","Typography","Paper","Input","InputLabel","FormControl","RadioGroup","Radio","FormControlLabel","Select","MenuItem","Switch","Button","Table","useRestClient","useTranslations","useStyles","CreateNewUser","onRegister","t","classes","useState","firstName","name","email","phone","rooms","permissionGranted","formState","setFormState","contentContainer","input","event","target","value","width","RegisterVisit","client","setIsLoading","visitorType","setVisitorType","root","marginRight","marginLeft","props","postBesucher","person","vorname","telefon","gesundheitsstatus","res","id","postBesuch","besucher","raeume"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  Grid,\n  Typography,\n  Paper,\n  Input,\n  InputLabel,\n  FormControl,\n  RadioGroup,\n  Radio,\n  FormControlLabel,\n  Select,\n  MenuItem,\n  Switch,\n  Button,\n} from '@material-ui/core';\nimport Table from '../Table';\nimport useRestClient from '../../hooks/useRestClient';\nimport useTranslations from '../../hooks/useTranslations';\nimport useStyles from './style';\n\nconst CreateNewUser: React.FunctionComponent<{\n  onRegister: (props: any) => void;\n}> = ({ onRegister }) => {\n  const { t } = useTranslations();\n  const classes = useStyles();\n  const [formState, setFormState] = React.useState<any>({\n    firstName: '',\n    name: '',\n    email: '',\n    phone: '',\n    rooms: [],\n    permissionGranted: false,\n  });\n  return (\n    <Paper className={classes.contentContainer}>\n      <Grid container spacing={4}>\n        <Grid item xs={12} sm={6}>\n          <Input\n            className={classes.input}\n            placeholder={t('register-first-name')}\n            value={formState.firstName}\n            onChange={event =>\n              setFormState({ ...formState, firstName: event.target.value })\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Input\n            className={classes.input}\n            placeholder={t('register-name')}\n            value={formState.name}\n            onChange={event =>\n              setFormState({ ...formState, name: event.target.value })\n            }\n          />\n        </Grid>\n      </Grid>\n      <Grid container spacing={4}>\n        <Grid item xs={12} sm={6}>\n          <Input\n            className={classes.input}\n            type=\"email\"\n            placeholder={t('register-email')}\n            value={formState.email}\n            onChange={event =>\n              setFormState({ ...formState, email: event.target.value })\n            }\n          />\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Input\n            className={classes.input}\n            placeholder={t('register-phone')}\n            value={formState.phone}\n            onChange={event =>\n              setFormState({ ...formState, phone: event.target.value })\n            }\n          />\n        </Grid>\n      </Grid>\n      <Grid container spacing={4}>\n        <Grid item xs={12} sm={6}>\n          <FormControl style={{ width: '100%' }}>\n            <InputLabel>{t('property-rooms')}</InputLabel>\n            <Select\n              value={formState.rooms}\n              onChange={event => {\n                setFormState({\n                  ...formState,\n                  rooms: event.target.value,\n                });\n              }}\n              multiple\n              input={<Input />}\n            >\n              <MenuItem value=\"Raum 2\">Raum 2</MenuItem>\n              <MenuItem value=\"Raum 3\">Raum 3</MenuItem>\n              <MenuItem value=\"Raum 4\">Raum 4</MenuItem>\n              <MenuItem value=\"Raum 1\">Raum 1</MenuItem>\n            </Select>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={formState.permissionGranted}\n                onChange={() =>\n                  setFormState({\n                    ...formState,\n                    permissionGranted: !formState.permissionGranted,\n                  })\n                }\n                name=\"access\"\n              />\n            }\n            label={t('register-permission-granted')}\n          />\n        </Grid>\n      </Grid>\n      <Grid container spacing={4}>\n        <Grid item xs={12} sm={6}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => onRegister(formState)}\n          >\n            {t('register')}\n          </Button>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nconst RegisterVisit: React.FunctionComponent = () => {\n  // hooks\n  const classes = useStyles();\n  const { t } = useTranslations();\n  const { client, setIsLoading } = useRestClient();\n\n  // state\n  const [visitorType, setVisitorType] = React.useState('new');\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={4}>\n        <Grid item xs={12} sm={6}>\n          <Typography variant=\"body1\">{t('administration')}</Typography>\n          <Typography variant=\"h6\">{t('visitor-register')}</Typography>\n        </Grid>\n      </Grid>\n      <Grid container spacing={4}>\n        <Grid item xs={12} sm={6}>\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              row\n              name=\"visitorType\"\n              value={visitorType}\n              onChange={event => setVisitorType(event.target.value)}\n            >\n              <FormControlLabel\n                value=\"new\"\n                control={<Radio />}\n                label=\"Neuer Besucher\"\n                labelPlacement=\"start\"\n                style={{ marginRight: '4px' }}\n              />\n              <FormControlLabel\n                value=\"registered\"\n                control={<Radio />}\n                label=\"Bereits regisitriert\"\n                labelPlacement=\"end\"\n                style={{ marginLeft: '4px' }}\n              />\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n        <Grid container spacing={4}>\n          <Grid item xs={12} sm={6}>\n            {visitorType === 'new' && (\n              <CreateNewUser\n                onRegister={async props => {\n                  if (client && setIsLoading) {\n                    setIsLoading(true);\n                    const res = await client.postBesucher({\n                      person: {\n                        name: props.name,\n                        vorname: props.firstName,\n                        email: props.email,\n                        telefon: props.phone,\n                      },\n                      gesundheitsstatus: 'gesund',\n                    });\n                    if (res && res.id) {\n                      await client.postBesuch({\n                        besucher: [res.id],\n                        raeume: [props.rooms],\n                      });\n                    }\n                    setIsLoading(false);\n                  }\n                }}\n              />\n            )}\n            {visitorType === 'registered' && (\n              <Table\n                rows={[\n                  {\n                    id: '123',\n                    name: 'name',\n                  },\n                ]}\n                rowsPerPageOptions={[25, 50, 100]}\n                count={1}\n                rowsPerPage={25}\n                page={0}\n                onChangePage={() => {}}\n                onChangeRowsPerPage={() => {}}\n                displayOnly={false}\n                onClickRow={() => {}}\n                buttonLabel=\"Anmelden\"\n              />\n            )}\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default RegisterVisit;\n"]},"metadata":{},"sourceType":"module"}