{"ast":null,"code":"import Register from '../../../components/RegisterVisit';\nexport default Register;\n/*const Visitors: React.FunctionComponent = () => {\n  const { client, setIsLoading, setHasError } = useRestClient();\n  const [createStatus, setCreateStatus] = React.useState<any>('');\n  const [gebaeude, setGebaeude] = React.useState(null);\n  React.useEffect(() => {\n    async function getGebaude() {\n      if (client) {\n        const res = await client.getGebauede();\n        if (res) setGebaeude(res);\n      }\n    }\n    getGebaude();\n  }, []);\n\n  return (\n    <>\n      {createStatus === 'success' && (\n        <Alert severity=\"success\">Besuch erfolgreich angelegt.</Alert>\n      )}\n      <Register\n        buildings={gebaeude}\n        createNewVisitor={async props => {\n          if (client) {\n            setIsLoading(true);\n            try {\n              const res = await client.postBesucher({\n                person: {\n                  name: props.name,\n                  vorname: props.firstName,\n                  email: props.email,\n                  telefon: props.phone,\n                },\n                gesundheitsstatus: 'gesund',\n              });\n              if (res && res.id) {\n                await client.postBesuch({\n                  besucher: [res.id],\n                  raeume: props.rooms,\n                });\n              }\n              setIsLoading(false);\n              setCreateStatus('success');\n            } catch (error) {\n              setCreateStatus('error');\n              setHasError(true);\n            }\n          }\n        }}\n      />\n    </>\n  );\n};\n\nexport default Visitors;*/","map":{"version":3,"sources":["/Users/stephangilli/projects/besuchernachweis/frontend/pages/[locale]/visitor/register.tsx"],"names":["Register"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,mCAArB;AAEA,eAAeA,QAAf;AAEA","sourcesContent":["import Register from '../../../components/RegisterVisit';\n\nexport default Register;\n\n/*const Visitors: React.FunctionComponent = () => {\n  const { client, setIsLoading, setHasError } = useRestClient();\n  const [createStatus, setCreateStatus] = React.useState<any>('');\n  const [gebaeude, setGebaeude] = React.useState(null);\n  React.useEffect(() => {\n    async function getGebaude() {\n      if (client) {\n        const res = await client.getGebauede();\n        if (res) setGebaeude(res);\n      }\n    }\n    getGebaude();\n  }, []);\n\n  return (\n    <>\n      {createStatus === 'success' && (\n        <Alert severity=\"success\">Besuch erfolgreich angelegt.</Alert>\n      )}\n      <Register\n        buildings={gebaeude}\n        createNewVisitor={async props => {\n          if (client) {\n            setIsLoading(true);\n            try {\n              const res = await client.postBesucher({\n                person: {\n                  name: props.name,\n                  vorname: props.firstName,\n                  email: props.email,\n                  telefon: props.phone,\n                },\n                gesundheitsstatus: 'gesund',\n              });\n              if (res && res.id) {\n                await client.postBesuch({\n                  besucher: [res.id],\n                  raeume: props.rooms,\n                });\n              }\n              setIsLoading(false);\n              setCreateStatus('success');\n            } catch (error) {\n              setCreateStatus('error');\n              setHasError(true);\n            }\n          }\n        }}\n      />\n    </>\n  );\n};\n\nexport default Visitors;*/\n"]},"metadata":{},"sourceType":"module"}